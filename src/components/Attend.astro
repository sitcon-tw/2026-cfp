---
// Attend component - "我想參與" section
import Google from "@assets/calendar/Google.svg";
import Apple from "@assets/calendar/Apple.svg";

const timeline = [
	{ date: "10/12", event: "議程徵稿開始" },
	{ date: "11/03", event: "遠道而來票開始申請" },
	{ date: "01/17", event: "開源貢獻/遠道而來票截止" },
	{ date: "01/25", event: "第一波索票開始" },
	{ date: "02/06", event: "公布議程表" },
	{ date: "02/23", event: "第二波索票開始" },
	{ date: "03/28", event: "年會舉辦" }
];
---

<section id="attend" class="attend-section">
	<!-- White Card Section -->
	<div class="white-card">
		<div class="quotation-mark">”</div>
		<h2>我想參與</h2>
		<div class="card-content">
			<p>
				追蹤關注我們的 <a href="https://sitcon.org/fb" target="_blank" rel="noopener noreferrer">Facebook</a>、<a href="https://sitcon.org/ig" target="_blank" rel="noopener noreferrer"
					>Instagram</a
				> 以及 <a href="https://sitcon.org/threads" target="_blank" rel="noopener noreferrer">Threads</a>，獲得年會的最新消息！也可以加入我們的 <a
					href="https://sitcon.org/tg"
					target="_blank"
					rel="noopener noreferrer">Telegram</a
				> 與大家交流；也可以將 SITCON 2026 的重要時程加入你的行事曆，避免錯過任何重要的日期！
			</p>
			<p>SITCON 是個開放的社群，許多籌備的相關事項都會在公開的郵件論壇上進行討論，如果有興趣參與，歡迎訂閱 SITCON 的郵件論壇並貢獻你的想法！</p>
			<p>若你想進一步了解過往討論的內容，也歡迎到 GitLab 上查看 SITCON 2026 的籌備歷程。</p>
		</div>
		<div class="button-group">
			<div class="calendar-dropdown">
				<button class="action-button calendar-button" aria-label="將 SITCON 2026 重要時程加入行事曆">
					加入行事曆
					<span class="dropdown-arrow">▼</span>
				</button>
				<div class="dropdown-menu">
					<a
						href="https://calendar.google.com/calendar/r?cid=webcal://sitcon.org/2026/cfp/SITCON_2026_重要時程.ics"
						class="dropdown-item"
						aria-label="訂閱 Google Calendar"
						target="_blank"
						rel="noopener noreferrer"
					>
						<span class="icon"><img src={Google.src} alt="" /></span>
						<span>Google Calendar</span>
					</a>
					<a href="https://sitcon.org/2026/cfp/SITCON_2026_重要時程.ics" class="dropdown-item" aria-label="下載 iCal 格式">
						<span class="icon"><img src={Apple.src} alt="" /></span>
						<span>Apple Calendar</span>
					</a>
					<a href="https://sitcon.org/2026/cfp/SITCON_2026_重要時程.ics" class="dropdown-item" aria-label="下載 iCal 格式">
						<span class="icon">📆</span>
						<span>iCal</span>
					</a>
				</div>
			</div>
			<a href="https://groups.google.com/g/sitcon-general/" target="_blank" rel="noopener noreferrer" class="action-button" role="button" aria-label="訂閱 SITCON 郵件論壇">訂閱郵件論壇</a>
			<a href="https://gitlab.com/sitcon-tw/2026/board/-/boards/" target="_blank" rel="noopener noreferrer" class="action-button" role="button" aria-label="查看 SITCON 2026 GitLab 籌備進度"
				>查看 GitLab</a
			>
		</div>
	</div>
	<div class="round-end-container">
		<div class="round-end"></div>
	</div>

	<div class="timeline">
		{
			timeline.map((item, index) => (
				<div class={`white-card ${index % 2 === 0 ? "left" : "right"}`}>
					<div class="timeline-item">
						<span class="timeline-date">{item.date}</span>
						<span class="timeline-event">{item.event}</span>
					</div>
				</div>
			))
		}
	</div>
</section>

<style>
	.attend-section {
		background-color: #010121;
		color: #000000;
		padding: 4rem 2rem;
		min-height: 100vh;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	/* White Card Styles */
	.white-card {
		background-color: var(--white);
		padding: 3rem;
		max-width: min(1200px, 65%);
		width: 100%;
		position: relative;
	}

	.white-card.left {
		background-color: var(--white);
		padding: 1.5rem;
		max-width: min(1200px, 65%);
		border-radius: 10rem 0;
		width: 100%;
		position: relative;
	}

	.white-card.right {
		background-color: var(--white);
		padding: 1.5rem;
		max-width: min(1200px, 65%);
		border-radius: 0 10rem;
		width: 100%;
		position: relative;
	}

	.white-card.left:last-child {
		border-radius: 10rem 0rem 30rem 20rem;
	}

	.white-card.right:last-child {
		border-radius: 0 10rem 10rem 20rem;
	}

	.round-end-container {
		width: 100%;
		max-width: min(1200px, 65%);
		height: 0.5rem;
		background-color: var(--white);
	}

	.round-end {
		background-color: #010121;
		height: 0.5rem;
		width: calc(100% - 5rem);
		border-radius: 0 10rem 10rem 0;
	}

	.quotation-mark {
		position: absolute;
		top: -1.5rem;
		font-family: "Orbitron", sans-serif;
		right: 10rem;
		font-size: 6rem;
		color: #4a86e8;
		font-weight: bold;
		letter-spacing: 0.35rem;
		line-height: 1;
	}

	h2 {
		font-size: 2.5rem;
		margin-bottom: 2rem;
	}

	.card-content {
		margin-bottom: 2.5rem;
	}

	.button-group {
		display: flex;
		gap: 1rem;
		justify-content: center;
		flex-wrap: wrap;
	}

	.calendar-dropdown {
		position: relative;
		display: inline-block;
	}

	.action-button {
		background-color: #4a86e8;
		color: var(--white);
		border: none;
		border-radius: 10rem;
		padding: 0.8rem 1.5rem;
		font-size: 1.3rem;
		font-weight: 500;
		cursor: pointer;
		transition: background-color 0.3s ease;
		text-decoration: none;
	}

	.calendar-button {
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
	}

	.dropdown-arrow {
		font-size: 0.7rem;
		transition: transform 0.2s ease;
	}

	.calendar-dropdown:hover .dropdown-arrow {
		transform: rotate(180deg);
	}

	.action-button:hover {
		background-color: #3a6bc7;
	}

	.action-button:active {
		background-color: #2e55a8;
	}

	.dropdown-menu {
		position: absolute;
		top: calc(100% + 0.5rem);
		left: 50%;
		transform: translateX(-50%);
		background: var(--white);
		border: 2px solid #e0e0e0;
		border-radius: 0.5rem;
		min-width: 240px;
		opacity: 0;
		visibility: hidden;
		transition:
			opacity 0.2s ease,
			visibility 0.2s ease;
		z-index: 10;
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
	}

	.calendar-dropdown:hover .dropdown-menu {
		opacity: 1;
		visibility: visible;
	}

	.dropdown-item {
		display: flex;
		align-items: center;
		gap: 0.75rem;
		padding: 0.875rem 1.25rem;
		color: #000;
		text-decoration: none;
		transition: background-color 0.2s ease;
		border-bottom: 1px solid #f0f0f0;
	}

	.dropdown-item:first-child {
		border-radius: 0.5rem 0.5rem 0 0;
	}

	.dropdown-item:last-child {
		border-bottom: none;
		border-radius: 0 0 0.5rem 0.5rem;
	}

	.dropdown-item:hover {
		background-color: #f8f8f8;
	}

	.dropdown-item .icon {
		font-size: 1.5rem;
		flex-shrink: 0;
	}

	.dropdown-item .icon img {
		width: 1.5rem;
		height: 1.5rem;
		object-fit: contain;
	}

	.dropdown-item span:last-child {
		font-weight: 600;
		font-size: 1rem;
	}

	.timeline {
		display: flex;
		flex-direction: column;
		width: 100%;
		align-items: center;
		gap: 0.5rem;
		color: #010121;
		font-size: 2rem;
		font-weight: bold;
		font-family: "Orbitron", "Noto Sans TC", sans-serif;
	}

	.timeline-item {
		display: flex;
		justify-content: center;
		gap: 1.5rem;
		align-items: center;
	}

	/* Vector Graphics from Design */
	.vector-graphics {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: -1;
		pointer-events: none;
	}

	.bg-pattern {
		width: 100%;
		height: 100%;
		opacity: 0.6;
	}

	/* Responsive Design */
	@media (max-width: 900px) {
		.attend-section {
			padding: 2rem;
		}

		.quotation-mark {
			right: 2rem;
		}

		.white-card,
		.white-card.left,
		.white-card.right {
			padding: 2rem;
			max-width: unset;
		}

		.round-end-container {
			max-width: unset;
		}

		h2 {
			font-size: 2rem;
		}

		.content-text {
			font-size: 1rem;
		}

		.action-button {
			font-size: 1.2rem;
		}

		.button-group {
			flex-direction: column;
			align-items: center;
		}

		.action-button,
		.calendar-dropdown {
			width: 100%;
			max-width: 300px;
		}

		.dropdown-menu {
			min-width: 200px;
		}

		.dropdown-item {
			padding: 0.75rem 1rem;
		}

		.dropdown-item .icon {
			font-size: 1.25rem;
		}

		.dropdown-item .icon img {
			width: 1.25rem;
			height: 1.25rem;
		}

		.dropdown-item span:last-child {
			font-size: 0.9rem;
		}

		.timeline {
			font-size: clamp(1.1rem, 4.5vw, 1.5rem);
		}

		.timeline-item {
			gap: 0.5rem;
			text-align: center;
		}
	}
</style>
